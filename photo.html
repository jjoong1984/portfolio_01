<div id="jjContainer">
    <section id="photo_page">
        <div class="background">
            <div class="text"> 
                <h2>GALLERY</h2>
                <p>포토갤러리</p>
            </div>
        </div>
        <div class="photo_box row">
            <div class="photoFilter">
                <ul>
                   <li><a href="#" data="all">ALL</a></li>
                   <li><a href="#" data="type1">분류1</a></li>
                   <li><a href="#" data="type2">분류2</a></li>
                   <li><a href="#" data="type3">분류3</a></li>
                   <li><a href="#" data="type4">분류4</a></li>
                </ul>
            </div>    
            <div class="photoContent">
                <div class="all type1">
                    <div class="photo">
                        <a href="images/photo_01.jpg">
                            <img src="images/photo_01.jpg" alt="사진1">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                        <a href="" target="_brank"><img src="" alt=""></a>
                    </div>
                </div>
                <div class="all type1">
                    <div class="photo">
                        <a href="images/photo_02.jpg">
                            <img src="images/photo_02.jpg" alt="사진2">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div >
                <div class="all type3">
                    <div class="photo">
                        <a href="images/photo_03.jpg">
                            <img src="images/photo_03.jpg" alt="사진3">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type4">
                    <div class="photo">
                        <a href="images/photo_04.jpg">
                            <img src="images/photo_04.jpg" alt="사진5">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type2">
                    <div class="photo">
                        <a href="images/photo_05.jpg">
                            <img src="images/photo_05.jpg" alt="사진5">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type3">
                    <div class="photo">
                        <a href="images/photo_06.jpg">
                            <img src="images/photo_06.jpg" alt="사진6">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type4">
                    <div class="photo">
                        <a href="images/photo_07.jpg">
                            <img src="images/photo_07.jpg" alt="사진7">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type1">
                    <div class="photo">
                        <a href="images/photo_08.jpg">
                            <img src="images/photo_08.jpg" alt="사진8">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type4">
                    <div class="photo">
                        <a href="images/photo_09.jpg">
                            <img src="images/photo_09.jpg" alt="사진9">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type1">
                    <div class="photo">
                        <a href="images/photo_10.jpg">
                            <img src="images/photo_10.jpg" alt="사진10">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type2">
                    <div class="photo">
                        <a href="images/photo_11.jpg">
                            <img src="images/photo_11.jpg" alt="사진11">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type3">
                    <div class="photo">
                        <a href="images/photo_12.jpg">
                            <img src="images/photo_12.jpg" alt="사진12">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>
                <div class="all type2">
                    <div class="photo">
                        <a href="images/photo_13.jpg">
                            <img src="images/photo_13.jpg" alt="사진13">
                            <div class="text">
                                <h2>타이틀</h2>
                                <p>moblien</p>
                            </div>
                        </a>
                    </div>
                </div>     
            </div>
        </div>
        <div class="photoPopup">
            <div class="photoGalley">
                <a href="" target="_brank"><img src="" alt=""></a>
                <button class="close">
                    <span class="blind">닫기</span>
                    <i class="fas fa-times-circle"></i>
                </button>
                <button class="arrow prev">
                    <span class="blind">이전</span>
                    <i class="fas fa-angle-left"></i>
                </button>
                <button class="arrow next">
                    <span class="blind">다음</span>
                    <i class="fas fa-angle-right"></i>
                </button>
                <div class="text">Photo Galley <span>1</span>/13 </div>
            </div>
        </div>                 
    </section>
</div>

<script>

    (function($){ 
        $('.photoFilter > ul > li:nth-child(1)').addClass('on')

       $('.photoFilter > ul > li').on('click',function(){ 
           $(this).addClass('on')
           $(this).siblings().removeClass('on')
           return false
       })

       $('.photoFilter > ul > li > a').on('click',function(){ 
         var data = $(this).attr('data')
            $('.all').css({ 
                transform:'scale(0)'
            })
            $('.'+data).css({ 
               transform: 'scale(1)'
            }).addClass('act')   
       })
       $('.photoFilter > ul > li:nth-child(1)').on('click',function(){ 
           $('.photoContent > div').removeClass('act')
       })

       var href, src, alt, diveq;
       $('.photo > a').on('click', function(){ 
            diveq = $(this).parent().parent().index()
            console.log(diveq)
            $('.photoPopup').addClass('on')
            href = $(this).attr('href')
            src = $(this).find('img').attr('src')
            alt = $(this).find('img').attr('alt')
            $('.photoGalley > a').attr('href', href)
            $('.photoGalley > a > img').attr('src', src)
            $('.photoGalley > a > img').attr('alt', alt)
            $('.photoPopup .text span').text(diveq+1)
            return false;
       })
       $('.photoGalley .close, .photoPopup').on('click', function(){
            $('.photoPopup').removeClass('on')
       })
       $('.photoGalley').on('click', function(e){ 
           e.stopPropagation();
       })

       function changeList(ind) {
        href = $('.photoContent > div').eq(ind).find('a').attr('href')
        src = $('.photoContent > div').eq(ind).find('img').attr('src')
        alt = $('.photoContent > div').eq(ind).find('img').attr('alt')
        $('.photoPopup .text span').text(diveq+1) 
        $('.photoGalley > a').attr('href', href)
        $('.photoGalley > a > img').attr({
            'src':src,
            'alt':alt
        }).css({
            opacity:'0'
        }).stop().animate({
            opacity:'1'
        }, 500)
    }
    $('.photoGalley .prev').on('click', function(){
        --diveq;
        if (diveq<0) {
            diveq = 12;
        }
        changeList(diveq)
    })

    $('.photoGalley .next').on('click', function(){
        ++diveq;
        if (diveq>12) {
            diveq = 0;
        }
        changeList(diveq)
    })


      

    })(jQuery)

</script>